<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /

  # Serve static files from _next directory
  RewriteCond %{REQUEST_URI} ^/_next/
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteRule ^_next/(.*)$ /_next/$1 [L]

  # Handle client-side routing for SPA
  RewriteRule ^index\.html$ - [L]
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteCond %{REQUEST_FILENAME} !-l
  RewriteRule . /index.html [L]
</IfModule>